<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Hotjar Tracking Code for movieTALK -->
    <script>
      (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:3691326,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
      })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
    </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Your movieTALK profile, Edit your information or just read up on your posts." />
    <link rel="stylesheet" href="../src/scss/index.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
      crossorigin="anonymous"
    ></script>
    <script src="../js/populate_profile.js" type="module"></script>
    <script src="../js/follow_profile.js" type="module"></script>
    <script src="../js/profile_posts.js" type="module"></script>
    <script src="../js/main.js" type="module"></script>
    <script src="../js/search.js" type="module"></script>
    <script src="../js/filter-page.js" type="module"></script>
    <title>movieTALK | Profile</title>
  </head>
  <body>
    <header class="mx-auto container-fluid bg-dark">
      <nav class="navbar navbar-expand-md pt-4 bg-dark align-items-center mx-auto max-width-1200">
        <a class="navbar-brand header-logo mb-2 mx-auto ms-md-0 mx-md-auto justify-content-start" href="../feed/index.html" alt="movieTALK Logo"><span class="visually-hidden">Home</span></a>
        <div class="container mx-auto d-flex align-items-start justify-content-md-end d-flex flex-nowrap">
          <div class="row align-items-center w-100">
            <div class="col-4 justify-content-end col-sm-4 col-md-6 m-1 w-100">
              <button
                class="btn-outline-warning navbar-toggler bg-warning mb-2 me-3"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#navbarMenu"
                aria-controls="navbarMenu"
                aria-expanded="false"
                aria-label="Toggle navigation"
              >
                <span class="navbar-toggler-icon justify-content-end"></span>
              </button>
              <div class="collapse navbar-collapse text-primary w-100" id="navbarMenu">
                <ul class="navbar-nav mb-lg-2 w-100">
                  <li class="nav-item me-3 mb-2 py-0 text-warning bg-dark w-100">
                    <a class="nav-link text-warning rounded-2 py-1 ps-2 logout-link w-100 text-center" href="../index.html">Logout</a>
                  </li>
                  <li class="nav-item me-3 mb-2 py-0 text-warning bg-dark w-100">
                    <a class="nav-link text-dark bg-warning active  rounded-2 py-1 ps-2 profile-link w-100 text-center" aria-current="page" href="index.html">Profile</a>
                  </li>
                  <li class="nav-item me-3 mb-3 py-0 text-warning bg-dark w-100">
                    <a class="nav-link text-warning rounded-2 py-1 ps-2 w-100 text-center" href="../feed/index.html">Feed</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class="col-8 col-sm-8 col-md-6 d-flex align-items-start justify-content-start">
            <form class="d-flex mt-1" role="search" id="searchForm">
              <input class="form-control me-2 max-width-300" id="searchInput" type="search" name="searchQuery" placeholder="Search" aria-label="Search">
              <button class="btn btn-outline-warning" type="submit">Search</button>
            </form>
          </div>
        </div>
      </nav>
    </header>
    <main class="mx-auto mb-5">
      <div class="container mt-5">
        <div class="row bg-primary rounded bannerImage shadow py-3 px-0 m-0 bg-dark" id="bannerImage">
          <h1 class="text-center text-warning rounded py-0 m-0"><span class="loggedInProfileName">Loading...</span>'s Profile</h1>
        </div>
        <div class="row mt-5 bg-info py-3">
        <div class="col-md-5 mb-3">
          <div class="card">
            <div class="card-body text-center">
              <div alt="User Profile Image" class="mx-auto rounded-circle shadow border mb-3 avatarImage" id="avatarImage"></div>
              <h2 class="card-title loggedInProfileName">Loading...</h2>
              <div class="btn-group">
                <button type="button" class="edit-profile btn btn-warning btn-sm mb-2" id="edit-profile">Edit Profile</button>
              </div>
              <!-- Edit profile form -->
              <div class="profile-edit-form d-none my-3">
                <form id="profile-edit-form">
                  <div class="mb-3">
                    <label for="avatarInput" class="form-label">Change Avatar URL:</label>
                    <input type="text" class="form-control" id="avatarInput" placeholder="https://url.com/avatar.jpg">
                  </div>
                  <div class="mb-3">
                    <label for="bannerInput" class="form-label">Change Banner URL:</label>
                    <input type="text" class="form-control" id="bannerInput" placeholder="https://url.com/banner.jpg">
                  </div>
                  <button type="button" class="btn btn-sm btn-warning" id="changeButton">Change</button>
                  <button type="button" class="btn btn-sm btn-secondary" id="closeButton">Close</button>
                </form>
              </div>
              <p class="card-text">Username: <span class="loggedInProfileName">Loading...</span></p>
              <hr>
              <p class="card-text mb-0">Followers: <span class="loggedInProfileFollowers" id="loggedInProfileFollowers">Loading...</span></p>
              <p class="card-text mb-0">Following: <span class="loggedInProfileFollowing" id="loggedInProfileFollowing">Loading...</span></p>
              <p class="card-text">Posts: <span class="loggedInProfilePosts" id="loggedInProfilePosts">Loading...</span></p>
              <button class="btn btn-warning loggedInProfileFollow" id="loggedInProfileFollow"><i class="bi bi-star me-1"></i><span id="follow-text">...</span></button>
            </div>
          </div>
        </div>
        <div class="col-md-7">
          <h1 class="text-center flex-wrap fs-3 text-dark main-header">Your posts</h1>
          <hr>
          <!-- Sort and filter section -->
          <div class="accordion" id="myAccordion">
            <!-- Nav tabs -->
            <ul class="nav nav-tabs border-bottom border-dark" id="myTabs" role="tablist">
              <li class="nav-item rounded-top-2" role="presentation">
                <a class="nav-link text-dark border border-dark rounded-top-2 border-1" id="getPosts-tab" href="../feed/index.html" role="button">Feed</a>
              </li>
              <li class="nav-item rounded-top-2" role="presentation">
                <a class="nav-link text-dark border border-dark rounded-top-2 border-1" id="filterPosts-tab" data-bs-toggle="collapse" href="#filterPostsContent" role="button" aria-expanded="false" aria-controls="filterPostsContent">Filter posts</a>
              </li>
            </ul>
            <!-- Tab content -->
            <div class="accordion-item border-dark bg-warning">
              <div class="collapse bg-warning rounded-2" id="getPostsContent" data-bs-parent="#myAccordion">
                <div class="accordion-body">
                  <!-- Items per Page Selector with Description -->
                  <div class="form-group mb-3">
                    <select class="form-select btn-warning" aria-label="Items per Page" id="itemsPerPageSelector" aria-placeholder="Posts per page:">
                      <option value="">Posts per page:</option>
                      <option value="10">10</option>
                      <option value="20">20</option>
                      <option value="50">50</option>
                      <option value="100">100</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
            <div class="accordion-item border-dark bg-warning">
              <div class="collapse bg-warning rounded-2" id="filterPostsContent" data-bs-parent="#myAccordion">
                <div class="accordion-body">
                  <!-- Filter Posts Selector -->
                  <div class="form-group mb-3">
                    <select class="form-select" aria-label="Filter by movie category" id="filterFeedSelector">
                      <option value="">By movie categoy</option>
                      <option value="Action">Action</option>
                      <option value="Children">Children</option>
                      <option value="Comedy">Comedy</option>
                      <option value="Drama">Drama</option>
                      <option value="Family">Family</option>
                      <option value="Fantasy">Fantasy</option>
                      <option value="Romance">Romance</option>
                      <option value="Horror">Horror</option>
                      <option value="Mockumentary">Mockumentary</option>
                      <option value="SciFi">SciFi</option>
                      <option value="Thriller">Thriller</option>
                    </select>
                  </div>
                  <!-- Add the new selector for movie genres -->
                  <div class="form-group mb-3">
                    <select class="form-select" aria-label="Filter by user tags" id="filterUserTagsSelector">
                      <option value="">By user tags</option>
                      <option value="User tag 1">User tag 1</option>
                      <option value="User tag 2">User tag 2</option>
                      <option value="User tag 3">User tag 3</option>
                    </select>
                  </div>
                  <!-- End of user tags selector -->
                </div>
              </div>
            </div>
            <!-- End of Sort and filter section -->
          </div>
          <!-- Content section -->
          <div class="loadingIndicator" id="loadingIndicator"></div>
          <a href="#" aria-label="  Go back to the top"><span class="out-of-view-menu-text">Back to top</span>
            <div class="back-to-top-button bg-warning text-dark pt-1 px-3 pb-2"></div>
          </a>
          <div class="d-flex flex-column mb-1 align-items-center">
            <div class="spinner-border text-warning text-center" role="status">
              <span class="visually-hidden">Loading...</span>
            </div>
            <h2 class="searching text-center d-none" id="searching">Searching...</h2>
          </div>
          <div class="searching"></div>
          <div class="get-next mt-3 d-flex justify-content-between">
            <a href="#" id="prevPageLink" class="text-primary text-decoration-none"><i class="bi bi-chevron-left"></i> Previous Page</a>
            <div id="currentPageInfo">Page 1</div>
            <a href="#" id="nextPageLink" class="text-primary text-decoration-none">Next Page <i class="bi bi-chevron-right"></i></a>
          </div>
          <div class="feed-posts" id="feed-posts"></div>
          <hr class="my-5 pb-5">
        </div>
        </div>
      </div>
    </div>
    </main>
    <footer class="mt-3 fixed-bottom">
      <div class="container-fluid bg-dark mt-3">
        <div class="row">
          <div class="col">
            <p class="text-center text-warning mt-2">movieTALK &copy; 2023</p>
          </div>
        </div>
      </div>
    </footer>
  </body>
</html>
